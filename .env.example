# Logging
# Local dev default (user-writable). Docker compose overrides container LOG_DIR to /var/log/transcendence.
LOG_DIR=./data/logs
HOST_LOG_DIR=./data/logs
LOG_LEVEL=info
LOG_PRETTY=false

# Core
NODE_ENV=development
# INTERNAL_API_KEY=dev-internal-key
# GAME_SERVICE_DB_PATH=/workspace/services/game-service/data/game-service.db
# CHAT_SERVICE_DB_PATH=/workspace/services/chat-service/data/chat-service.db
# USER_SERVICE_DB_PATH=/workspace/services/user-service/data/user-service.db
# TOURNAMENT_DB_PATH=/workspace/services/tournament-service/data/tournament-service.db

# Service ports & URLs
GATEWAY_PORT=3000
USER_SERVICE_PORT=3001
GAME_SERVICE_PORT=3002
CHAT_SERVICE_PORT=3003
TOURNAMENT_SERVICE_PORT=3004
TOURNAMENT_SERVICE_HOST=0.0.0.0
TOURNAMENT_SERVICE_DISABLED=false
USER_SERVICE_URL=http://localhost:3001
GAME_SERVICE_URL=http://localhost:3002
CHAT_SERVICE_URL=http://localhost:3003
TOURNAMENT_SERVICE_URL=http://localhost:3004
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW="1 minute"

# Databases (override to ./data/<service>.db for local dev outside Docker)
# USER_SERVICE_DB_PATH=/app/data/user-service.db
# USER_SERVICE_UPLOAD_DIR=/app/uploads
# GAME_SERVICE_DB_PATH=/app/data/game-service.db
# CHAT_SERVICE_DB_PATH=/app/data/chat-service.db
# TOURNAMENT_DB_PATH=/app/data/tournament-service.db

# Messaging
RABBITMQ_URL=amqp://transcendence:transcendence_dev@localhost:5672
RABBITMQ_DEFAULT_USER=transcendence
RABBITMQ_DEFAULT_PASS=transcendence_dev

# Vault
VAULT_ADDR=http://localhost:8200
VAULT_SKIP_VERIFY=true
VAULT_TOKEN=dev-root-token
VAULT_DEV_ROOT_TOKEN_ID=dev-root-token
VAULT_DEV_LISTEN_ADDRESS=0.0.0.0:8200

# Grafana
GRAFANA_ADMIN_PASSWORD=admin

# ELK
ELASTICSEARCH_IMAGE=docker.elastic.co/elasticsearch/elasticsearch:8.15.3
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_HEAP=512m
ELASTICSEARCH_SECURITY_ENABLED=false
ELASTICSEARCH_HOST=http://elasticsearch:9200
# Use a versioned prefix to avoid mapping conflicts if the first doc is bad
ELASTICSEARCH_INDEX_PREFIX=transcendence-v2
LOGSTASH_IMAGE=docker.elastic.co/logstash/logstash:8.15.3
LOGSTASH_BEATS_PORT=5044
LOGSTASH_HOST=logstash:5044
KIBANA_IMAGE=docker.elastic.co/kibana/kibana:8.15.3
KIBANA_PORT=5601
FILEBEAT_IMAGE=docker.elastic.co/beats/filebeat:8.15.3
FILEBEAT_LOG_DIR=/var/log/transcendence

